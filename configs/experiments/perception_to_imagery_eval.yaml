# Perception-to-Imagery Transfer Evaluation Configuration
#
# This config is used for evaluating perception-trained models on imagery data
# to measure cross-domain generalization (Hypothesis H2).

experiment:
  name: "perception_to_imagery_transfer"
  description: "Evaluate perception checkpoint on imagery test set"

# Model checkpoint
checkpoint:
  path: "checkpoints/two_stage/subj01/best.pt"
  model_type: "auto"  # auto-detect from path (ridge/mlp/two_stage)
  device: "cuda"      # cuda or cpu

# Dataset
data:
  # Imagery index (generated by build_nsd_imagery_index.py)
  index: "cache/indices/imagery/subj01.parquet"
  
  # Evaluation mode
  mode: "imagery"  # imagery, perception, or both
  
  # Data split to evaluate on
  split: "test"    # train, val, test, or all
  
  # Cache root
  cache_root: "cache"
  
  # Batch size for evaluation
  batch_size: 128

# Evaluation metrics
metrics:
  # CLIP-based metrics
  clip_cosine: true
  
  # Retrieval@K (in-batch)
  retrieval_k: [1, 5, 10]
  
  # Per-stimulus-type breakdown
  by_stimulus_type: true

# Output
output:
  dir: "outputs/reports/imagery/perception_transfer"
  save_per_trial: true   # Save per-trial CSV
  save_metrics: true     # Save metrics JSON
  save_readme: true      # Save summary README

# Optional: Baseline comparisons
baseline:
  # Compare against perceptionâ†’perception performance
  perception_checkpoint: null  # "checkpoints/two_stage/subj01/best.pt"
  perception_data: null        # NSD perception test set
